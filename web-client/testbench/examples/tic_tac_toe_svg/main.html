<!-- Flash version of a Tic Tac Toe UI. -->

<html>
<head>
<title>Tic Tac Toe!</title>

<script src="volity.js" type="text/javascript"></script>
<script src="prototype.js" type="text/javascript"></script>

</head>

<body onLoad="initialize_svg_js()">
<h1>
  SVG UI demonstration: Tic Tac Toe
</h1>


<!--
<object style="float:right" type="image/svg+xml" id="svg_ui" data="ttt.svg" width="290" height="290"></object>
-->
<iframe style="border:0;float:right; width:290; height:290" type="image/svg+xml" id="svg_ui" src="ttt.svg"></iframe>

<script>
function initialize_svg_js() {
    var svg_doc = $('svg_ui').contentDocument;
    var svg_win = svg_doc.defaultView;
    svg_win.rpc = rpc;
    svg_win.seatmark = seatmark;
    svg_win.literalmessage = literalmessage;
    svg_win.localize = localize;
    svg_win.message = message;
    svg_win.audio = audio;
    svg_win.info  = info;
    window.game = svg_win.game;
    window.volity = svg_win.volity;
}
</script>

<p>
This is a demonstration of a SVG Tic Tac Toe UI file embedded in an HTML page. It's a rather naive example, in that the buttons remain interactive when they shouldn't (such as when the UI knows that it isn't the user's turn), but this way it demonstrates the localized token-display feature.
</p>
<p>Some things to try...</p>
<ul>
<li>Sit in the 'x' seat and click 'Start Game'.</li>
<li>Click on the squares to trigger their click handlers. In this case, you're just told that it isn't your turn yet.</li>
<li>Note that the 'with language' field contains the two-letter code for whatever your browser thinks your native language is. Type <code>fr</code> into this field and cick 'Reload UI'. Click on the squares again and be told that it isn't your turn <em>en fran&ccedil;ais</em>. (Alternately, if it was <code>fr</code> to begin with, try <code>en</code> instead.)</li>
<li>Switch the language back to your native language code (or not), then simulate incoming RPC handlers by typing commands into the JavaScript console:
<ul>
<li><code>game.mark('x', 4)</code></li>
<li><code>game.mark('o', 0)</code></li>
<li><code>game.must_mark('x')</code></li>
</ul>
</li>
<li>After entering <code>game.must_mark('x')</code>, click around on the squares, triggering the different mousing handlers. Note that clicking in an empty square triggers an outgoing RPC call. (Or at least a message that simulates one.) Clickin an occupied square gets you another error message, also localized to your current language.</li>
<li>Since this isn't a live Volity game, and no referee is listening... cheat your way to victory!
<ul>
<li><code>game.mark('x', 2)</code></li>
<li><code>game.mark('x', 6)</code></li>
<li><code>game.win('x', 2, 4, 6)</code></li>
</li>
</ul>

</ul>


</body>

</html>
